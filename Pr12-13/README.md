# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞ —Ä–æ–±–æ—Ç–∞: –û–±—Ä–æ–±–∫–∞ —Å–∏–≥–Ω–∞–ª—ñ–≤ —É Linux

## –ó–∞–≤–¥–∞–Ω–Ω—è 1: Gracefully Handling Process Crashes
**–û–ø–∏—Å:** –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –∫–æ—Ä–µ–∫—Ç–Ω–æ—ó –æ–±—Ä–æ–±–∫–∏ –∞–≤–∞—Ä—ñ–π–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –ø—Ä–æ—Ü–µ—Å—ñ–≤.
**–ö–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏:**
- –û–±—Ä–æ–±–∫–∞ —Å–∏–≥–Ω–∞–ª—ñ–≤: SIGSEGV, SIGFPE, SIGILL, SIGBUS
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è sigaction() –∑ –ø—Ä–∞–ø–æ—Ä–æ–º SA_SIGINFO
- –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ª–æ–≥—ñ–≤ —Ç–∞ –æ—á–∏—â–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤

## –ó–∞–≤–¥–∞–Ω–Ω—è 2: Trapping and Extracting Information from a Crash
**–û–ø–∏—Å:** –û—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–æ–¥–∞—Ç–∫–æ–≤–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –ø–æ–º–∏–ª–∫—É —á–µ—Ä–µ–∑ siginfo_t.
**–ö–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏:**
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ siginfo_t
- –û—Ç—Ä–∏–º–∞–Ω–Ω—è –∞–¥—Ä–µ—Å–∏ –ø–æ–º–∏–ª–∫–∏
- –û–±—Ä–æ–±–∫–∞ —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤ —Å–∏–≥–Ω–∞–ª—ñ–≤

## –ó–∞–≤–¥–∞–Ω–Ω—è 3: Register Dumping
**–û–ø–∏—Å:** –û—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–æ—Å—Ç—É–ø—É –¥–æ —Ä–µ–≥—ñ—Å—Ç—Ä—ñ–≤ –ø—Ä–æ—Ü–µ—Å–æ—Ä–∞ –ø—ñ—Å–ª—è –∞–≤–∞—Ä—ñ—ó.
**–ö–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏:**
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è ucontext_t
- –î–æ—Å—Ç—É–ø –¥–æ —Ä–µ–≥—ñ—Å—Ç—Ä—ñ–≤ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏
- –ê–Ω–∞–ª—ñ–∑ —Å—Ç–∞–Ω—É –ø—Ä–æ—Ü–µ—Å–æ—Ä–∞

## –ó–∞–≤–¥–∞–Ω–Ω—è 4: Sleeping Correctly
**–û–ø–∏—Å:** –ü—Ä–∞–≤–∏–ª—å–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ñ—É–Ω–∫—Ü—ñ–π –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º –ø–µ—Ä–µ—Ä–∏–≤–∞–Ω—å.
**–ö–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏:**
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è nanosleep()
- –û–±—Ä–æ–±–∫–∞ –ø–µ—Ä–µ—Ä–∏–≤–∞–Ω—å
- –ü–æ–≤—Ç–æ—Ä–Ω—ñ –≤–∏–∫–ª–∏–∫–∏ –∑ –æ–Ω–æ–≤–ª–µ–Ω–∏–º –∑–∞–ª–∏—à–∫–æ–º

## –ó–∞–≤–¥–∞–Ω–Ω—è 5: Real-Time Signals
**–û–ø–∏—Å:** –†–æ–±–æ—Ç–∞ –∑ —Å–∏–≥–Ω–∞–ª–∞–º–∏ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —á–∞—Å—É.
**–ö–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏:**
- –ë—É—Ñ–µ—Ä–∏–∑–æ–≤–∞–Ω—ñ —Å–∏–≥–Ω–∞–ª–∏
- –ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–∏—Ö —á–µ—Ä–µ–∑ sigqueue()
- –û–±—Ä–æ–±–∫–∞ RT-—Å–∏–≥–Ω–∞–ª—ñ–≤

## –ó–∞–≤–¥–∞–Ω–Ω—è 6: Sending Signals
**–û–ø–∏—Å:** –ú–µ—Ç–æ–¥–∏ –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—è —Å–∏–≥–Ω–∞–ª—ñ–≤.
**–ö–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏:**
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è kill()
- –ù–∞–¥—Å–∏–ª–∞–Ω–Ω—è —á–µ—Ä–µ–∑ shell
- –ü–µ—Ä–µ–¥–∞—á–∞ –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö

## –ó–∞–≤–¥–∞–Ω–Ω—è 7: Publisher-Subscriber Application
**–û–ø–∏—Å:** –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø–∞—Ç–µ—Ä–Ω—É Publisher-Subscriber –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Å–∏–≥–Ω–∞–ª—ñ–≤.
**–ö–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏:**
- –ü—ñ–¥–ø–∏—Å–Ω–∏–∫ –Ω–∞ —Å–∏–≥–Ω–∞–ª–∏
- –í–∏–¥–∞–≤–µ—Ü—å —Å–∏–≥–Ω–∞–ª—ñ–≤
- –ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–∏—Ö –º—ñ–∂ –ø—Ä–æ—Ü–µ—Å–∞–º–∏

## –ó–∞–≤–¥–∞–Ω–Ω—è 8: Alternative Signal-Handling Techniques
**–û–ø–∏—Å:** –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ñ –º–µ—Ç–æ–¥–∏ –æ–±—Ä–æ–±–∫–∏ —Å–∏–≥–Ω–∞–ª—ñ–≤.
**–ö–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏:**
- signalfd()
- eventfd()/epoll()
- sigwaitinfo() –≤ –ø–æ—Ç–æ–∫–∞—Ö

## –ó–∞–≤–¥–∞–Ω–Ω—è 9: sigwaitinfo and sigtimedwait
**–û–ø–∏—Å:** –°–∏–Ω—Ö—Ä–æ–Ω–Ω–µ –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è —Å–∏–≥–Ω–∞–ª—ñ–≤.
**–ö–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏:**
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è sigwaitinfo()
- –ë–ª–æ–∫—É–≤–∞–Ω–Ω—è —Å–∏–≥–Ω–∞–ª—ñ–≤
- –û—Ç—Ä–∏–º–∞–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ —Å–∏–≥–Ω–∞–ª

## –ó–∞–≤–¥–∞–Ω–Ω—è 10: Source Code
**–û–ø–∏—Å:** –ü–æ–≤–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è Publisher-Subscriber —Å–∏—Å—Ç–µ–º–∏.
**–ö–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏:**
- –ö–æ–º–ø—ñ–ª—è—Ü—ñ—è —Ç–∞ –∑–∞–ø—É—Å–∫
- –í–∑–∞—î–º–æ–¥—ñ—è –º—ñ–∂ –ø—Ä–æ—Ü–µ—Å–∞–º–∏
- –û–±—Ä–æ–±–∫–∞ RT-—Å–∏–≥–Ω–∞–ª—ñ–≤

## –ö–æ–º–ø—ñ–ª—è—Ü—ñ—è —Ç–∞ –∑–∞–ø—É—Å–∫
–î–ª—è –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó –≤—Å—ñ—Ö –ø—Ä–æ–≥—Ä–∞–º –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ:
```bash
gcc -o program_name source_file.c
```

## –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
- Linux OS
- GCC –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ C

# –ü—Ä–∞–∫—Ç–∏—á–Ω–∞ —Ä–æ–±–æ—Ç–∞ 12-13

---


## 1. The Signal Mechanism in Brief

**–°–∏–≥–Ω–∞–ª–∏** ‚Äî —Ü–µ –±–∞–∑–æ–≤–∏–π –º–µ—Ö–∞–Ω—ñ–∑–º –º—ñ–∂–ø—Ä–æ—Ü–µ—Å–Ω–æ—ó –≤–∑–∞—î–º–æ–¥—ñ—ó (IPC) –≤ Unix-–ø–æ–¥—ñ–±–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π–Ω–∏—Ö —Å–∏—Å—Ç–µ–º–∞—Ö. –í–æ–Ω–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ—Ü–µ—Å—ñ–≤ –ø—Ä–æ –ø–æ–¥—ñ—ó, —â–æ —Å—Ç–∞–ª–∏—Å—è.

### üîë –ö–ª—é—á–æ–≤—ñ –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ:

* –°–∏–≥–Ω–∞–ª–∏ –º–∞—é—Ç—å **—á–∏—Å–ª–æ–≤—ñ —ñ —Å–∏–º–≤–æ–ª—å–Ω—ñ —ñ–º–µ–Ω–∞**
  (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: `SIGINT` ‚Äî —Å–∏–≥–Ω–∞–ª –ø–µ—Ä–µ—Ä–∏–≤–∞–Ω–Ω—è, —è–∫–∏–π –Ω–∞–¥—Å–∏–ª–∞—î—Ç—å—Å—è –ø—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ `Ctrl+C`).

* –°–∏–≥–Ω–∞–ª–∏ –Ω–∞–¥—Ö–æ–¥—è—Ç—å **–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ** ‚Äî —É –±—É–¥—å-—è–∫–∏–π –º–æ–º–µ–Ω—Ç –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ø—Ä–æ–≥—Ä–∞–º–∏.

* –ö–æ–∂–µ–Ω —Å–∏–≥–Ω–∞–ª –º–∞—î **—Ç–∏–ø–æ–≤—É –¥—ñ—é –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º**, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥:

  * –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –ø—Ä–æ—Ü–µ—Å—É (`kill`),
  * —ñ–≥–Ω–æ—Ä—É–≤–∞–Ω–Ω—è (`ignore`),
  * –∑—É–ø–∏–Ω–∫–∞ (`stop`),
  * –ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è (`continue`).

* –ü—Ä–æ—Ü–µ—Å –º–æ–∂–µ **–æ–±—Ä–æ–±–ª—è—Ç–∏ –∞–±–æ —ñ–≥–Ω–æ—Ä—É–≤–∞—Ç–∏** –±—ñ–ª—å—à—ñ—Å—Ç—å —Å–∏–≥–Ω–∞–ª—ñ–≤, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –æ–±—Ä–æ–±–Ω–∏–∫–∏ (`signal handlers`).

---

## 2. The Standard or Unix Signals

| **–ù–∞–∑–≤–∞** | **–ù–æ–º–µ—Ä** | **–û–ø–∏—Å**                                            |
| --------- | --------- | --------------------------------------------------- |
| `SIGINT`  | 2         | –ü–µ—Ä–µ—Ä–∏–≤–∞–Ω–Ω—è –∑ –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏ (`Ctrl+C`)                 |
| `SIGTERM` | 15        | –ó–∞–ø–∏—Ç –Ω–∞ –Ω–æ—Ä–º–∞–ª—å–Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –ø—Ä–æ—Ü–µ—Å—É               |
| `SIGKILL` | 9         | –ü—Ä–∏–º—É—Å–æ–≤–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è (–Ω–µ –º–æ–∂–Ω–∞ –ø–µ—Ä–µ—Ö–æ–ø–∏—Ç–∏)          |
| `SIGSTOP` | 19        | –ó—É–ø–∏–Ω–∫–∞ –ø—Ä–æ—Ü–µ—Å—É (—Ç–∞–∫–æ–∂ –Ω–µ –ø–µ—Ä–µ—Ö–æ–ø–ª—é—î—Ç—å—Å—è)           |
| `SIGCONT` | 18        | –ü—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è –∑—É–ø–∏–Ω–µ–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É                      |
| `SIGCHLD` | 17        | –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –±–∞—Ç—å–∫–∞ –ø—Ä–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –¥–æ—á—ñ—Ä–Ω—å–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É |
| `SIGSEGV` | 11        | –°–µ–≥–º–µ–Ω—Ç–∞—Ü—ñ–π–Ω–∞ –ø–æ–º–∏–ª–∫–∞ (–ø–æ–º–∏–ª–∫–∞ –¥–æ—Å—Ç—É–ø—É –¥–æ –ø–∞–º'—è—Ç—ñ)  |

> ‚ö†Ô∏è **SIGKILL** —ñ **SIGSTOP** –Ω–µ–º–æ–∂–ª–∏–≤–æ –ø–µ—Ä–µ—Ö–æ–ø–∏—Ç–∏ –∞–±–æ —ñ–≥–Ω–æ—Ä—É–≤–∞—Ç–∏ ‚Äî –≤–æ–Ω–∏ –∑–∞–≤–∂–¥–∏ –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è —è–¥—Ä–æ–º.

---

## 3. Handling Signals

**–û–ø–∏—Å:**

–ù–∞–ø–∏—à—ñ—Ç—å –ø—Ä–æ–≥—Ä–∞–º—É, —è–∫–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –±–∞–∑–æ–≤—É –æ–±—Ä–æ–±–∫—É —Å–∏–≥–Ω–∞–ª—ñ–≤ —É Unix-–ø–æ–¥—ñ–±–Ω–∏—Ö —Å–∏—Å—Ç–µ–º–∞—Ö. –ü—Ä–æ–≥—Ä–∞–º–∞ –º–∞—î —Ä–µ–∞–≥—É–≤–∞—Ç–∏ –Ω–∞ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è `Ctrl+C` (—Å–∏–≥–Ω–∞–ª `SIGINT`), –Ω–µ –∑–∞–≤–µ—Ä—à—É—é—á–∏—Å—å, –∞ –≤–∏–≤–æ–¥—è—á–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –æ—Ç—Ä–∏–º–∞–Ω–∏–π —Å–∏–≥–Ω–∞–ª.

**–Ø–∫ –ø—Ä–∞—Ü—é—î:**

* –ü—Ä–æ–≥—Ä–∞–º–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î –æ–±—Ä–æ–±–Ω–∏–∫ —Å–∏–≥–Ω–∞–ª—É –¥–ª—è `SIGINT` –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Ñ—É–Ω–∫—Ü—ñ—ó `signal()`.
* –ö–æ–ª–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–∞—Ç–∏—Å–∫–∞—î `Ctrl+C`, –∑–∞–º—ñ—Å—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è, –ø—Ä–æ–≥—Ä–∞–º–∞ –≤–∏–∫–ª–∏–∫–∞—î —Ñ—É–Ω–∫—Ü—ñ—é `handle_sigint()`, —è–∫–∞ –≤–∏–≤–æ–¥–∏—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è.
* –¶–∏–∫–ª `while(1)` –∑–∞–±–µ–∑–ø–µ—á—É—î –ø–æ—Å—Ç—ñ–π–Ω–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ø—Ä–æ—Ü–µ—Å—É, –¥–æ–∑–≤–æ–ª—è—é—á–∏ –≤ –±—É–¥—å-—è–∫–∏–π –º–æ–º–µ–Ω—Ç –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ä–µ–∞–∫—Ü—ñ—é –Ω–∞ —Å–∏–≥–Ω–∞–ª.

---

* [–ö–æ–¥ –¥–æ –∑–∞–≤–¥–∞–Ω–Ω—è](task3_signal_handler/main.c)
* ![–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è](task3_signal_handler/demo1.png)

### –†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–æ–±–æ—Ç–∏

–ü—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ `Ctrl+C` –≤ —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ, –∑–∞–º—ñ—Å—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è, –∑'—è–≤–ª—è—î—Ç—å—Å—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è:

```
Caught signal 2
```

–¶–µ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î —Ä–æ–±–æ—Ç—É –≤–ª–∞—Å–Ω–æ–≥–æ –æ–±—Ä–æ–±–Ω–∏–∫–∞ —Å–∏–≥–Ω–∞–ª—É `SIGINT`.


---

## 4. –û–±—Ä–æ–±–∫–∞ –∫—ñ–ª—å–∫–æ—Ö —Å–∏–≥–Ω–∞–ª—ñ–≤

**–û–ø–∏—Å:**

–ü—Ä–æ–≥—Ä–∞–º–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –æ–±—Ä–æ–±–∫—É –∫—ñ–ª—å–∫–æ—Ö —Å–∏–≥–Ω–∞–ª—ñ–≤ —É Unix-—Å–∏—Å—Ç–µ–º–∞—Ö ‚Äî `SIGINT` (Ctrl+C) —Ç–∞ `SIGTERM` (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –ø—Ä–æ—Ü–µ—Å—É).

**–Ø–∫ –ø—Ä–∞—Ü—é—î:**

* –ü—Ä–∏ –∑–∞–ø—É—Å–∫—É –≤–∏–≤–æ–¥–∏—Ç—å—Å—è PID –ø—Ä–æ—Ü–µ—Å—É, —â–æ–± –π–æ–≥–æ –º–æ–∂–Ω–∞ –±—É–ª–æ –∑–∞–≤–µ—Ä—à–∏—Ç–∏ –≤—Ä—É—á–Ω—É –∑ —ñ–Ω—à–æ—ó –∫–æ–Ω—Å–æ–ª—ñ (`kill <PID>`).
* –û–±—Ä–æ–±–Ω–∏–∫ `SIGINT` –≤–∏–≤–æ–¥–∏—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ `Ctrl+C`, –∞–ª–µ –Ω–µ –∑–∞–≤–µ—Ä—à—É—î –ø—Ä–æ–≥—Ä–∞–º—É.
* –û–±—Ä–æ–±–Ω–∏–∫ `SIGTERM` –≤–∏–≤–æ–¥–∏—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —Ç–∞ –∑–∞–≤–µ—Ä—à—É—î –ø—Ä–æ–≥—Ä–∞–º—É —á–µ—Ä–µ–∑ `_exit(0)`.
* –ù–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∏–π —Ü–∏–∫–ª –∑ `sleep(1)` –¥–æ–∑–≤–æ–ª—è—î –ø—Ä–æ–≥—Ä–∞–º—ñ –∑–∞–ª–∏—à–∞—Ç–∏—Å—è –∞–∫—Ç–∏–≤–Ω–æ—é, —â–æ–± –ø—Ä–∏–π–º–∞—Ç–∏ —Å–∏–≥–Ω–∞–ª–∏.

---

* [–ö–æ–¥ –¥–æ –∑–∞–≤–¥–∞–Ω–Ω—è](task4_signal_dual/main.c)
* ![–°–∫—Ä—ñ–Ω—à–æ—Ç](task4_signal_dual/pid_output.png)
* ![–°–∫—Ä—ñ–Ω—à–æ—Ç](task4_signal_dual/sigterm_kill.png)

### –†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–æ–±–æ—Ç–∏

1. –í–∏–≤–æ–¥–∏—Ç—å—Å—è PID, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥: `PID: 12345`
2. –ü—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ `Ctrl+C`:

   ```
   Caught SIGINT (Ctrl+C)
   ```
3. –ü—Ä–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—ñ `kill -TERM 12345` –≤ —ñ–Ω—à—ñ–π –∫–æ–Ω—Å–æ–ª—ñ:

   ```
   Caught SIGTERM, exiting...
   ```

–¶–µ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –±–∞–∑–æ–≤—É, –∞–ª–µ –Ω–∞–æ—á–Ω—É —Ä–µ–∞–∫—Ü—ñ—é –Ω–∞ –∫—ñ–ª—å–∫–∞ —Å–∏–≥–Ω–∞–ª—ñ–≤ —É —Ä–µ–∞–ª—å–Ω–æ–º—É –ø—Ä–æ—Ü–µ—Å—ñ.


---

## 5. –ú–∞—Å–∫—É–≤–∞–Ω–Ω—è —Å–∏–≥–Ω–∞–ª—ñ–≤

**–û–ø–∏—Å:**

–¶–µ –∑–∞–≤–¥–∞–Ω–Ω—è –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î, —è–∫ —Ç–∏–º—á–∞—Å–æ–≤–æ –∑–∞–±–ª–æ–∫—É–≤–∞—Ç–∏ (`–º–∞—Å–∫—É–≤–∞—Ç–∏`) —Å–∏–≥–Ω–∞–ª, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ `SIGINT`, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –π–æ–≥–æ –æ–±—Ä–æ–±–∫–∏ –ø—ñ–¥ —á–∞—Å –∫—Ä–∏—Ç–∏—á–Ω–æ—ó —Å–µ–∫—Ü—ñ—ó –∫–æ–¥—É.

**–Ø–∫ –ø—Ä–∞—Ü—é—î:**

* `sigset_t set` ‚Äî –Ω–∞–±—ñ—Ä —Å–∏–≥–Ω–∞–ª—ñ–≤, —è–∫–∏–π –º–∏ –±—É–¥–µ–º–æ –±–ª–æ–∫—É–≤–∞—Ç–∏.
* `sigemptyset()` ‚Äî –æ—á–∏—â–∞—î –Ω–∞–±—ñ—Ä.
* `sigaddset()` ‚Äî –¥–æ–¥–∞—î –¥–æ –Ω–∞–±–æ—Ä—É —Å–∏–≥–Ω–∞–ª `SIGINT`.
* `sigprocmask(SIG_BLOCK, ...)` ‚Äî –∞–∫—Ç–∏–≤—É—î –±–ª–æ–∫—É–≤–∞–Ω–Ω—è —Å–∏–≥–Ω–∞–ª—É.
* –ü—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∫—Ä–∏—Ç–∏—á–Ω–æ—ó —Å–µ–∫—Ü—ñ—ó (10 —Å–µ–∫—É–Ω–¥), `SIGINT` —Ä–æ–∑–±–ª–æ–∫–æ–≤—É—î—Ç—å—Å—è —á–µ—Ä–µ–∑ `SIG_UNBLOCK`.
* –î–æ —Ä–æ–∑–±–ª–æ–∫—É–≤–∞–Ω–Ω—è Ctrl+C –Ω–µ –ø–µ—Ä–µ—Ä–∏–≤–∞—î –ø—Ä–æ–≥—Ä–∞–º—É, –ø—ñ—Å–ª—è ‚Äî –ø–µ—Ä–µ—Ä–∏–≤–∞—î.

---

* [–ö–æ–¥ –¥–æ –∑–∞–≤–¥–∞–Ω–Ω—è](task5_masking_signals/main.c)
* ![–°–∫—Ä—ñ–Ω—à–æ—Ç –º–∞—Å–∫—É–≤–∞–Ω–Ω—è](task5_masking_signals/masking.png)
* ![–°–∫—Ä—ñ–Ω—à–æ—Ç —Ä–æ–∑–±–ª–æ–∫—É–≤–∞–Ω–Ω—è](task5_masking_signals/unmasking.png)

### –†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–æ–±–æ—Ç–∏

1. –ü—Ä–æ–≥—Ä–∞–º–∞ –±–ª–æ–∫—É—î `SIGINT` –Ω–∞ 10 —Å–µ–∫—É–Ω–¥.
2. –°–ø—Ä–æ–±–∏ –Ω–∞—Ç–∏—Å–Ω—É—Ç–∏ `Ctrl+C` –ø—ñ–¥ —á–∞—Å —Ü—å–æ–≥–æ –ø–µ—Ä—ñ–æ–¥—É –Ω–µ –∑–∞–≤–µ—Ä—à—É—é—Ç—å –ø—Ä–æ–≥—Ä–∞–º—É.
3. –ü—ñ—Å–ª—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è `SIGINT —Ä–æ–∑–±–ª–æ–∫–æ–≤–∞–Ω–æ`, Ctrl+C –ø—Ä–∞—Ü—é—î, —è–∫ –∑–≤–∏—á–∞–π–Ω–æ.

–¶–µ –∫–æ—Ä–∏—Å–Ω–æ, –∫–æ–ª–∏ –∫—Ä–∏—Ç–∏—á–Ω–∞ —Å–µ–∫—Ü—ñ—è –ø–æ–≤–∏–Ω–Ω–∞ –∑–∞–≤–µ—Ä—à–∏—Ç–∏—Å—å –±–µ–∑ —Ä–∏–∑–∏–∫—É –ø–µ—Ä–µ—Ä–∏–≤–∞–Ω–Ω—è.

---

## 6. –ë–µ–∑–ø–µ—á–Ω–∞ –æ–±—Ä–æ–±–∫–∞ —Å–∏–≥–Ω–∞–ª—ñ–≤ (Reentrant Safety and Signalling)

**–û–ø–∏—Å:**

–¶–µ –∑–∞–≤–¥–∞–Ω–Ω—è –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î, —è–∫ –ø–∏—Å–∞—Ç–∏ –±–µ–∑–ø–µ—á–Ω—ñ –æ–±—Ä–æ–±–Ω–∏–∫–∏ —Å–∏–≥–Ω–∞–ª—ñ–≤, —É–Ω–∏–∫–∞—é—á–∏ –Ω–µ–±–µ–∑–ø–µ—á–Ω–∏—Ö (–Ω–µ-—Ä–µ—î–Ω—Ç—Ä–∞–Ω—Ç–Ω–∏—Ö) —Ñ—É–Ω–∫—Ü—ñ–π. –ü—Ä–∏ –æ–±—Ä–æ–±—Ü—ñ —Å–∏–≥–Ω–∞–ª—ñ–≤ –≤–∞–∂–ª–∏–≤–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ª–∏—à–µ **–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ-–±–µ–∑–ø–µ—á–Ω—ñ** —Ñ—É–Ω–∫—Ü—ñ—ó, –æ—Å–∫—ñ–ª—å–∫–∏ –æ–±—Ä–æ–±–Ω–∏–∫ –º–æ–∂–µ –ø–µ—Ä–µ—Ä–≤–∞—Ç–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ø—Ä–æ–≥—Ä–∞–º–∏ —É –±—É–¥—å-—è–∫–∏–π –º–æ–º–µ–Ω—Ç ‚Äî –Ω–∞–≤—ñ—Ç—å –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –Ω–µ–±–µ–∑–ø–µ—á–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó.

**–Ø–∫ –ø—Ä–∞—Ü—é—î:**

* –°–∏–≥–Ω–∞–ª `SIGINT` (Ctrl+C) –æ–±—Ä–æ–±–ª—è—î—Ç—å—Å—è —Ñ—É–Ω–∫—Ü—ñ—î—é `handle_sigint`.
* –ó–∞–º—ñ—Å—Ç—å `printf()` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è `write()`, —è–∫–∞ —î **reentrant-safe**.
* –ü—Ä–æ–≥—Ä–∞–º–∞ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `sleep()` —á–∏ `malloc()` ‚Äî –ª–∏—à–µ `pause()` —É –æ—Å–Ω–æ–≤–Ω–æ–º—É —Ü–∏–∫–ª—ñ.

---

* [–ö–æ–¥ –¥–æ –∑–∞–≤–¥–∞–Ω–Ω—è](task6_reentrant_safe/main.c)
* ![–°–∫—Ä—ñ–Ω—à–æ—Ç –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Å–∏–≥–Ω–∞–ª—É](task6_reentrant_safe/sigint.png)

### –ù–µ–±–µ–∑–ø–µ—á–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó, —è–∫—ñ –ù–ï –º–æ–∂–Ω–∞ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –≤ signal handler:

| –§—É–Ω–∫—Ü—ñ—è    | –ß–æ–º—É –Ω–µ–±–µ–∑–ø–µ—á–Ω–∞                       |
| ---------- | ------------------------------------- |
| `printf()` | –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –±—É—Ñ–µ—Ä, –Ω–µ thread-safe    |
| `malloc()` | –ú–æ–∂–µ –±—É—Ç–∏ —É –ø—Ä–æ—Ü–µ—Å—ñ –≤–∏–¥—ñ–ª–µ–Ω–Ω—è –ø–∞–º'—è—Ç—ñ |
| `sleep()`  | –ú–æ–∂–µ –±—É—Ç–∏ –ø–µ—Ä–µ—Ä–≤–∞–Ω–∏–π                  |
| `fork()`   | –ù–µ thread-safe —É –±–∞–≥–∞—Ç—å–æ—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—è—Ö   |
| `strtok()` | –ó–±–µ—Ä—ñ–≥–∞—î –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π —Å—Ç–∞–Ω              |

### –ë–µ–∑–ø–µ—á–Ω—ñ (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ-–±–µ–∑–ø–µ—á–Ω—ñ) —Ñ—É–Ω–∫—Ü—ñ—ó:

* `_exit()`
* `write()`
* `signal()`
* `kill()`
* `getpid()`, `getppid()`
* `sigaction()` (–∞–ª–µ –Ω–µ —É handler)

---

### –†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–æ–±–æ—Ç–∏

–ü—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ `Ctrl+C`, –ø—Ä–æ–≥—Ä–∞–º–∞ –Ω–µ –∑–∞–≤–µ—Ä—à—É—î—Ç—å—Å—è, –∞ –±–µ–∑–ø–µ—á–Ω–æ –≤–∏–≤–æ–¥–∏—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è `Received SIGINT` –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `write()`. –¶–µ –ø–æ–∫–∞–∑—É—î –ø—Ä–∞–≤–∏–ª—å–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –æ–±—Ä–æ–±–Ω–∏–∫—ñ–≤ —Å–∏–≥–Ω–∞–ª—ñ–≤ –±–µ–∑ –ø–æ—Ä—É—à–µ–Ω–Ω—è –±–µ–∑–ø–µ–∫–∏ –∞–±–æ –Ω–µ–æ—á—ñ–∫—É–≤–∞–Ω–æ—ó –ø–æ–≤–µ–¥—ñ–Ω–∫–∏.

---

–û—Å—å –¥–µ—Ç–∞–ª—å–Ω–∏–π –æ–ø–∏—Å –ø—Ä–∞–ø–æ—Ä—ñ–≤ `sigaction`, –ø–µ—Ä–µ–ø–∏—Å–∞–Ω–∏–π —É Markdown-—Ñ–æ—Ä–º–∞—Ç—ñ –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó:

---

## 7. –ü—Ä–∞–ø–æ—Ä–∏ `sigaction` —Ç–∞ —Ä–æ–∑—à–∏—Ä–µ–Ω–µ –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Å–∏–≥–Ω–∞–ª–∞–º–∏

**–û–ø–∏—Å:**

`sigaction()` ‚Äî —Ü–µ —Ä–æ–∑—à–∏—Ä–µ–Ω–∞ –∑–∞–º—ñ–Ω–∞ `signal()`, —è–∫–∞ –Ω–∞–¥–∞—î –≥–Ω—É—á–∫—ñ—à–∏–π —Ç–∞ –±–µ–∑–ø–µ—á–Ω—ñ—à–∏–π —Å–ø–æ—Å—ñ–± –æ–±—Ä–æ–±–∫–∏ —Å–∏–≥–Ω–∞–ª—ñ–≤. –í–æ–Ω–∞ –¥–æ–∑–≤–æ–ª—è—î –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏:

* —Å–∞–º –æ–±—Ä–æ–±–Ω–∏–∫ —Å–∏–≥–Ω–∞–ª—É;
* **–º–∞—Å–∫—É** —Å–∏–≥–Ω–∞–ª—ñ–≤, —è–∫—ñ –±–ª–æ–∫—É—é—Ç—å—Å—è –ø—ñ–¥ —á–∞—Å –æ–±—Ä–æ–±–∫–∏;
* **–ø—Ä–∞–ø–æ—Ä–∏**, —â–æ –∑–º—ñ–Ω—é—é—Ç—å –ø–æ–≤–µ–¥—ñ–Ω–∫—É –æ–±—Ä–æ–±–Ω–∏–∫–∞.

---

### –û—Å–Ω–æ–≤–Ω—ñ –ø—Ä–∞–ø–æ—Ä–∏ `sa_flags`

| –ü—Ä–∞–ø–æ—Ä         | –û–ø–∏—Å                                                                                                                                            |
| -------------- | ----------------------------------------------------------------------------------------------------------------------------------------------- |
| `SA_RESTART`   | –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ **–ø–æ–≤—Ç–æ—Ä—é—î —Å–∏—Å—Ç–µ–º–Ω—ñ –≤–∏–∫–ª–∏–∫–∏**, –ø–µ—Ä–µ—Ä–≤–∞–Ω—ñ —Å–∏–≥–Ω–∞–ª–æ–º. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, `read()` —á–∏ `accept()` –Ω–µ –ø–æ–≤–µ—Ä–Ω—É—Ç—å `EINTR`. –ó—Ä—É—á–Ω–æ –¥–ª—è —Å—Ç–∞–±—ñ–ª—å–Ω–æ—Å—Ç—ñ. |
| `SA_SIGINFO`   | –î–æ–∑–≤–æ–ª—è—î –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ **—Ä–æ–∑—à–∏—Ä–µ–Ω–∏–π –æ–±—Ä–æ–±–Ω–∏–∫** `sa_sigaction`, —è–∫–∏–π –æ—Ç—Ä–∏–º—É—î –¥–æ–¥–∞—Ç–∫–æ–≤—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —Å–∏–≥–Ω–∞–ª —á–µ—Ä–µ–∑ `siginfo_t`.                |
| `SA_NODEFER`   | **–ù–µ –±–ª–æ–∫—É—î** —Å–∏–≥–Ω–∞–ª, —è–∫–∏–π –æ–±—Ä–æ–±–ª—è—î—Ç—å—Å—è. –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º —Å–∏–≥–Ω–∞–ª —Å–∞–º —Å–µ–±–µ –±–ª–æ–∫—É—î –ø—ñ–¥ —á–∞—Å –æ–±—Ä–æ–±–∫–∏, —â–æ–± –Ω–µ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ.                    |
| `SA_NOCLDWAIT` | –Ø–∫—â–æ –≤–∫–∞–∑–∞–Ω–æ –∑ `SIGCHLD`, **–Ω–µ —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è –∑–æ–º–±—ñ-–ø—Ä–æ—Ü–µ—Å–∏**, –∞ –∑–∞–≤–µ—Ä—à–µ–Ω—ñ –¥—ñ—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–Ω–∏—â—É—é—Ç—å—Å—è.                                            |
| `SA_RESETHAND` | –ü—ñ—Å–ª—è –ø–µ—Ä—à–æ–≥–æ —Å–∏–≥–Ω–∞–ª—É **–ø–æ–≤–µ—Ä—Ç–∞—î –æ–±—Ä–æ–±–Ω–∏–∫ –¥–æ –∑–Ω–∞—á–µ–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º** (`SIG_DFL`).                                                           |
| `SA_ONSTACK`   | –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∏–π —Å—Ç–µ–∫**, —è–∫—â–æ –≤—ñ–Ω –≤–∏–∑–Ω–∞—á–µ–Ω–∏–π —á–µ—Ä–µ–∑ `sigaltstack()` (–¥–ª—è –æ–±—Ä–æ–±–∫–∏ —Å–∏–≥–Ω–∞–ª—ñ–≤ —É –ø–µ—Ä–µ–ø–æ–≤–Ω–µ–Ω–æ–º—É —Å—Ç–µ–∫—É).                   |


### –ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `sigaction` –∑–∞–º—ñ—Å—Ç—å `signal`?

* –Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∫–µ—Ä—É–≤–∞—Ç–∏ **–º–∞—Å–∫–∞–º–∏ —Å–∏–≥–Ω–∞–ª—ñ–≤**.
* –Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–∞ **—Ä–æ–∑—à–∏—Ä–µ–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ —Å–∏–≥–Ω–∞–ª** (—á–µ—Ä–µ–∑ `siginfo_t`).
* –Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ —É–Ω–∏–∫–∞—Ç–∏ –ø—Ä–æ–±–ª–µ–º —ñ–∑ –ø–µ—Ä–µ—Ä–≤–∞–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–Ω–∏–º–∏ –≤–∏–∫–ª–∏–∫–∞–º–∏ (`SA_RESTART`).
* –Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ **—Å—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–∞–¥—ñ–π–Ω—É –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ—á–Ω—É** –∞–±–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –±–µ–∑–ø–µ—á–Ω—É —Å–∏—Å—Ç–µ–º—É.

---

> **–ö–æ—Ä–∏—Å–Ω–∞ –∞–Ω–∞–ª–æ–≥—ñ—è**: `signal()` ‚Äî —Ü–µ —à–≤–∏–¥–∫–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º, —è–∫ –º—ñ–∫—Ä–æ—Ö–≤–∏–ª—å–æ–≤–∫–∞ –Ω–∞ 30 —Å–µ–∫—É–Ω–¥. `sigaction()` ‚Äî —Ü–µ –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–∞ –ø–∞–Ω–µ–ª—å –∫–µ—Ä—É–≤–∞–Ω–Ω—è –∑ —Ç–∞–π–º–µ—Ä–æ–º, —Ä–µ–∂–∏–º–∞–º–∏, —ñ—Å—Ç–æ—Ä—ñ—î—é ‚Äî –¥–ª—è –ø–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—é.

---

## 8. No Zombies ‚Äî —É–Ω–∏–∫–Ω–µ–Ω–Ω—è –∑–æ–º–±—ñ-–ø—Ä–æ—Ü–µ—Å—ñ–≤

**–û–ø–∏—Å:**

–ö–æ–ª–∏ **–¥–æ—á—ñ—Ä–Ω—ñ–π –ø—Ä–æ—Ü–µ—Å –∑–∞–≤–µ—Ä—à—É—î—Ç—å—Å—è**, –∞ **–±–∞—Ç—å–∫—ñ–≤—Å—å–∫–∏–π –Ω–µ –≤–∏–∫–ª–∏–∫–∞—î `wait()` –∞–±–æ `waitpid()`**, —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –¥–∏—Ç–∏–Ω–∏ –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –≤ —Ç–∞–±–ª–∏—Ü—ñ –ø—Ä–æ—Ü–µ—Å—ñ–≤. –¢–∞–∫–∏–π –ø—Ä–æ—Ü–µ—Å –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è **–∑–æ–º–±—ñ** (zombie process). –í—ñ–Ω –∑–∞–π–º–∞—î —Å–∏—Å—Ç–µ–º–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏, —Ö–æ—á —ñ –±—ñ–ª—å—à–µ –Ω–µ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è.

---

### –Ø–∫ —É–Ω–∏–∫–Ω—É—Ç–∏ –∑–æ–º–±—ñ?

–Ü—Å–Ω—É—î –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω—ñ —Å–ø–æ—Å–æ–±–∏:

#### 1. –û–±—Ä–æ–±–∏—Ç–∏ `SIGCHLD` –∑ –ø—Ä–∞–ø–æ—Ä–æ–º `SA_NOCLDWAIT`

–¶–µ –Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–π —Å–ø–æ—Å—ñ–±, –∫–æ–ª–∏ **–Ω–µ–º–∞—î –ø–æ—Ç—Ä–µ–±–∏ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ —Å—Ç–∞—Ç—É—Å –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –¥–∏—Ç–∏–Ω–∏**.

‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –î–æ—á—ñ—Ä–Ω—ñ –ø—Ä–æ—Ü–µ—Å–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ—á–∏—â–∞—é—Ç—å—Å—è –ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è, –Ω–µ –∑–∞–ª–∏—à–∞—é—á–∏ –∑–æ–º–±—ñ.


#### 2. –í–∏–∫–ª–∏–∫–∞—Ç–∏ `wait()` –∞–±–æ `waitpid()` —É –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–æ–º—É –ø—Ä–æ—Ü–µ—Å—ñ

### –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è

| –ü—ñ–¥—Ö—ñ–¥                 | –ü–ª—é—Å–∏                                  | –ú—ñ–Ω—É—Å–∏                           |
| ---------------------- | -------------------------------------- | -------------------------------- |
| `SA_NOCLDWAIT`         | –ü—Ä–æ—Å—Ç–æ—Ç–∞, –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ—á–∏—â–µ–Ω–Ω—è         | –ù–µ–º–∞—î –¥–æ—Å—Ç—É–ø—É –¥–æ –∫–æ–¥—É –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è |
| `wait()` / `waitpid()` | –ú–æ–∂–Ω–∞ –¥—ñ–∑–Ω–∞—Ç–∏—Å—å –ø—Ä–∏—á–∏–Ω—É/–∫–æ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è | –ü–æ—Ç—Ä—ñ–±–Ω–æ —è–≤–Ω–æ –≤–∏–∫–ª–∏–∫–∞—Ç–∏          |

---

> ‚ö†Ô∏è **–ó–æ–º–±—ñ ‚â† –¥–µ–º–æ–Ω**. –ó–æ–º–±—ñ ‚Äî —Ü–µ –∑–∞–ª–∏—à–∫–∏ –≤–∂–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤. –í–æ–Ω–∏ –Ω–µ –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è, –∞–ª–µ "–≤–∏—Å—è—Ç—å" –≤ —Ç–∞–±–ª–∏—Ü—ñ –ø—Ä–æ—Ü–µ—Å—ñ–≤.
> –£–Ω–∏–∫–∞—Ç–∏ –∑–æ–º–±—ñ –≤–∞–∂–ª–∏–≤–æ –≤ –¥–æ–≤–≥–æ–∂–∏–≤—É—á–∏—Ö –ø—Ä–æ—Ü–µ—Å–∞—Ö ‚Äî —ñ–Ω–∞–∫—à–µ —Ç–∞–±–ª–∏—Ü—è –ø—Ä–æ—Ü–µ—Å—ñ–≤ –º–æ–∂–µ –∑–∞–ø–æ–≤–Ω–∏—Ç–∏—Å—å, —ñ –Ω–æ–≤—ñ –ø—Ä–æ—Ü–µ—Å–∏ –Ω–µ —Å—Ç–≤–æ—Ä—è—Ç—å—Å—è.

---

## ‚úÖ **–ó–∞–≤–¥–∞–Ω–Ω—è 8: –£–Ω–∏–∫–Ω–µ–Ω–Ω—è –∑–æ–º–±—ñ-–ø—Ä–æ—Ü–µ—Å—ñ–≤ (No Zombies)**

### üìã –¢–µ–æ—Ä—ñ—è

–ö–æ–ª–∏ –¥–æ—á—ñ—Ä–Ω—ñ–π –ø—Ä–æ—Ü–µ—Å –∑–∞–≤–µ—Ä—à—É—î—Ç—å—Å—è, –≤—ñ–Ω –Ω–µ –∑–Ω–∏–∫–∞—î –ø–æ–≤–Ω—ñ—Å—Ç—é –∑ —Ç–∞–±–ª–∏—Ü—ñ –ø—Ä–æ—Ü–µ—Å—ñ–≤, –ø–æ–∫–∏ –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–∏–π –ø—Ä–æ—Ü–µ—Å –Ω–µ –≤–∏–∫–ª–∏–∫–∞—î `wait()` –∞–±–æ `waitpid()` ‚Äî —Ç–∞–∫–∏–π –ø—Ä–æ—Ü–µ—Å —Å—Ç–∞—î **–∑–æ–º–±—ñ**.

### üß† –í–∏—Ä—ñ—à–µ–Ω–Ω—è:

1. **–Ü–≥–Ω–æ—Ä—É–≤–∞—Ç–∏ —Å–∏–≥–Ω–∞–ª `SIGCHLD` –∑ –ø—Ä–∞–ø–æ—Ä–æ–º `SA_NOCLDWAIT`** ‚Äî —è–¥—Ä–æ –æ–¥—Ä–∞–∑—É –ø—Ä–∏–±–µ—Ä–µ –¥–æ—á—ñ—Ä–Ω—ñ–π –ø—Ä–æ—Ü–µ—Å.
2. **–í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ `wait()` –∞–±–æ `waitpid()`** ‚Äî –≤—Ä—É—á–Ω—É –∑—á–∏—Ç–∞—Ç–∏ —Å—Ç–∞—Ç—É—Å –∑–∞–≤–µ—Ä—à–µ–Ω–æ–≥–æ –¥–æ—á—ñ—Ä–Ω—å–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É.


–û—Å—å –¥–æ–ø–æ–≤–Ω–µ–Ω–∏–π —ñ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç –ø—É–Ω–∫—Ç—É **9. Different Approaches to Handling Signals at High Volume**:

---

### ‚úÖ 9. –ú–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω–∞ –æ–±—Ä–æ–±–∫–∞ —Å–∏–≥–Ω–∞–ª—ñ–≤ (Handling Signals at High Volume)

–£ —Å–∏—Å—Ç–µ–º–∞—Ö –∑ –≤–∏—Å–æ–∫–æ—é —á–∞—Å—Ç–æ—Ç–æ—é –ø–æ–¥—ñ–π (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–µ—Å—è—Ç–∫–∏ —á–∏ —Å–æ—Ç–Ω—ñ `SIGUSR1` –∑–∞ —Å–µ–∫—É–Ω–¥—É) –∫–ª–∞—Å–∏—á–Ω–∞ –º–æ–¥–µ–ª—å —Å–∏–≥–Ω–∞–ª—ñ–≤ –º–∞—î —Å—É—Ç—Ç—î–≤—ñ –æ–±–º–µ–∂–µ–Ω–Ω—è:

---

#### üß® –ü—Ä–æ–±–ª–µ–º–∏:

* **–°–∏–≥–Ω–∞–ª–∏ –Ω–µ –±—É—Ñ–µ—Ä–∏–∑—É—é—Ç—å—Å—è**: —è–∫—â–æ –æ–¥–∏–Ω —Ç–∏–ø —Å–∏–≥–Ω–∞–ª—É –Ω–∞–¥—Å–∏–ª–∞—î—Ç—å—Å—è –∫—ñ–ª—å–∫–∞ —Ä–∞–∑—ñ–≤ –ø–æ—Å–ø—ñ–ª—å ‚Äî –±—É–¥–µ –æ–±—Ä–æ–±–ª–µ–Ω–æ –ª–∏—à–µ –æ–¥–∏–Ω.
* **–í—Ç—Ä–∞—Ç–∏ —Å–∏–≥–Ω–∞–ª—ñ–≤**: –±–µ–∑ —á–µ—Ä–≥–∏ —Å–∏–≥–Ω–∞–ª—ñ–≤ —ñ–Ω—à—ñ –µ–∫–∑–µ–º–ø–ª—è—Ä–∏ –±—É–¥—É—Ç—å **–≤—Ç—Ä–∞—á–µ–Ω—ñ**.
* **–û–±–º–µ–∂–µ–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è**: —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π —Å–∏–≥–Ω–∞–ª –Ω–µ –º—ñ—Å—Ç–∏—Ç—å payload –∞–±–æ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∞ –ø–æ–¥—ñ—ó.
* **–í–∞–∂–∫–æ –º–∞—Å—à—Ç–∞–±—É–≤–∞—Ç–∏**: –∑–≤–∏—á–∞–π–Ω—ñ –æ–±—Ä–æ–±–Ω–∏–∫–∏ –Ω–µ –ø—ñ–¥—Ö–æ–¥—è—Ç—å –¥–ª—è —Å–∏—Å—Ç–µ–º –∑ –±–∞–≥–∞—Ç—å–º–∞ –¥–∂–µ—Ä–µ–ª–∞–º–∏ —Å–∏–≥–Ω–∞–ª—ñ–≤.

---

#### üõ†Ô∏è –ü—ñ–¥—Ö–æ–¥–∏ –¥–æ –º–∞—Å—à—Ç–∞–±–Ω–æ—ó –æ–±—Ä–æ–±–∫–∏:

| –ü—ñ–¥—Ö—ñ–¥                                             | –ü–µ—Ä–µ–≤–∞–≥–∏                                                                                     | –ù–µ–¥–æ–ª—ñ–∫–∏                                             |
| -------------------------------------------------- | -------------------------------------------------------------------------------------------- | ---------------------------------------------------- |
| `signalfd()`                                       | –ü–µ—Ä–µ—Ç–≤–æ—Ä—é—î —Å–∏–≥–Ω–∞–ª –Ω–∞ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä ‚Äî –º–æ–∂–Ω–∞ –æ–±—Ä–æ–±–ª—è—Ç–∏ —á–µ—Ä–µ–∑ `select()`/`epoll()`.                | Linux-only, –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î –≤—Å—ñ —Ç–∏–ø–∏ —Å–∏–≥–Ω–∞–ª—ñ–≤.          |
| `sigqueue()`                                       | –î–æ–∑–≤–æ–ª—è—î –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ –¥–∞–Ω—ñ (`union sigval`) —Ä–∞–∑–æ–º —ñ–∑ —Å–∏–≥–Ω–∞–ª–æ–º.                                 | –ß–µ—Ä–≥–∞ –æ–±–º–µ–∂–µ–Ω–∞, –ª–∏—à–µ –æ–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å-–æ—Ç—Ä–∏–º—É–≤–∞—á.          |
| **RT-—Å–∏–≥–Ω–∞–ª–∏** (`SIGRTMIN`..`SIGRTMAX`)            | –ß–µ—Ä–≥–æ–≤—ñ (queued), –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å –ø–æ—Ä—è–¥–æ–∫, –ø–µ—Ä–µ–¥–∞—é—Ç—å payload.                                     | –ú–µ–Ω—à–∞ –ø–æ—Ä—Ç–∞—Ç–∏–≤–Ω—ñ—Å—Ç—å, –∫—ñ–ª—å–∫—ñ—Å—Ç—å RT-—Å–∏–≥–Ω–∞–ª—ñ–≤ –æ–±–º–µ–∂–µ–Ω–∞. |
| **–ü–æ–¥—ñ—î–≤—ñ –º–æ–¥–µ–ª—ñ** (`epoll`/`kqueue` + `signalfd`) | –ü–æ–≤–Ω–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è —Å–∏–≥–Ω–∞–ª—ñ–≤ —É event loop, –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –Ω–µ–±–ª–æ–∫—É—é—á–æ—ó –æ–±—Ä–æ–±–∫–∏.                      | –°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó, –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å –≤—ñ–¥ –û–°.            |
| **timerfd**, `eventfd`                             | –í—ñ–¥–º–æ–≤–∞ –≤—ñ–¥ —Å–∏–≥–Ω–∞–ª—ñ–≤: –ø–æ–¥—ñ—ó —Ä–µ–∞–ª—ñ–∑—É—é—Ç—å—Å—è —á–µ—Ä–µ–∑ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–∏, —è–∫—ñ –º–æ–∂–Ω–∞ –æ–±'—î–¥–Ω—É–≤–∞—Ç–∏ –∑ `epoll`. | –ü–æ—Ç—Ä—ñ–±–Ω–æ –∑–º—ñ–Ω–∏—Ç–∏ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É IPC.                    |

---

#### üìå –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó:

* –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ **—Ä–µ–µ–Ω—Ç—Ä–∞–Ω—Ç-–±–µ–∑–ø–µ—á–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó** –≤ –æ–±—Ä–æ–±–Ω–∏–∫–∞—Ö (`write()`, `_exit()`).
* –î–ª—è —Å–∫–ª–∞–¥–Ω–æ—ó –ª–æ–≥—ñ–∫–∏ ‚Äî **–ø—Ä–æ—Å—Ç–æ –≤—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å —Ñ–ª–∞–≥** —É –æ–±—Ä–æ–±–Ω–∏–∫—É, –∞ –æ–±—Ä–æ–±—ñ—Ç—å –π–æ–≥–æ —É `main loop`.
* –ü–µ—Ä–µ—Ö–æ–¥—å—Ç–µ –Ω–∞ **–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ-–∫–µ—Ä–æ–≤–∞–Ω—ñ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–∏** (`signalfd`, `timerfd`, `eventfd`) –∑–∞–º—ñ—Å—Ç—å —Å–∏—Ä–∏—Ö —Å–∏–≥–Ω–∞–ª—ñ–≤.
* –Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ **—á–µ—Ä–≥—É–≤–∞—Ç–∏ –±–∞–≥–∞—Ç–æ –ø–æ–¥—ñ–π** ‚Äî **RT-—Å–∏–≥–Ω–∞–ª–∏ –∞–±–æ `sigqueue()`** –∫—Ä–∞—â—ñ –∑–∞ `kill()`.

---

#### ‚ö†Ô∏è –í–∏—Å–Ω–æ–≤–æ–∫:

> –°–∏–≥–Ω–∞–ª–∏ ‚Äî –ø–æ—Ç—É–∂–Ω–∏–π, –∞–ª–µ *–Ω–∏–∑—å–∫–æ—Ä—ñ–≤–Ω–µ–≤–∏–π* –º–µ—Ö–∞–Ω—ñ–∑–º. –í–æ–Ω–∏ —ñ–¥–µ–∞–ª—å–Ω—ñ –¥–ª—è **–ø—Ä–æ—Å—Ç–∏—Ö –ø–æ–¥—ñ–π**, –∞–ª–µ **–Ω–µ–ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω—ñ** –≤ —Å–∫–ª–∞–¥–Ω–∏—Ö —á–∏ –º–∞—Å–æ–≤–∏—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—è—Ö.
> –£ —Å—É—á–∞—Å–Ω–∏—Ö —Å–∏—Å—Ç–µ–º–∞—Ö —ó—Ö —á–∞—Å—Ç–æ **–∑–∞–º—ñ–Ω—é—é—Ç—å –Ω–∞ –±—ñ–ª—å—à —Å—Ç–∞–±—ñ–ª—å–Ω—ñ –º–µ—Ö–∞–Ω—ñ–∑–º–∏ IPC** ‚Äî —á–µ—Ä–≥–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å, —Å–æ–∫–µ—Ç–∏, –ø–∞–π–ø–∏, –ø–æ–¥—ñ—î–≤—ñ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–∏.

---

–•–æ—á–µ—à ‚Äî –ø–µ—Ä–µ—Ç–≤–æ—Ä—é –≤ markdown –∑ –∫–æ–¥–æ–º –ø—Ä–∏–∫–ª–∞–¥—ñ–≤ `signalfd`, `sigqueue`, –∞–±–æ `SIGRTMIN`.

### ‚úÖ –ü—ñ–¥—Å—É–º–æ–∫:

* –ó–∞–≤–¥–∞–Ω–Ω—è 8 ‚Äî –ø—Ä–æ **—É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∂–∏—Ç—Ç—î–≤–∏–º —Ü–∏–∫–ª–æ–º –¥–æ—á—ñ—Ä–Ω—ñ—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤** (–∑–æ–º–±—ñ).
* –ó–∞–≤–¥–∞–Ω–Ω—è 9 ‚Äî –ø—Ä–æ **–º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—É –æ–±—Ä–æ–±–∫—É —Å–∏–≥–Ω–∞–ª—ñ–≤** –ø—Ä–∏ –≤–µ–ª–∏–∫—ñ–π –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –ø–æ–¥—ñ–π.


---

## ‚úÖ 10. Gracefully Handling Process Crashes

### üß† –¢–µ–æ—Ä—ñ—è

–§–∞—Ç–∞–ª—å–Ω—ñ —Å–∏–≥–Ω–∞–ª–∏ (`SIGSEGV`, `SIGFPE`, `SIGILL`, `SIGBUS`) –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –≤–∏–∫–ª–∏–∫–∞—é—Ç—å –∞–≤–∞—Ä—ñ–π–Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –ø—Ä–æ—Ü–µ—Å—É –∑ core dump'–æ–º. –ü—Ä–æ—Ç–µ —ñ–Ω–æ–¥—ñ –∫—Ä–∞—â–µ –Ω–µ –ø–∞–¥–∞—Ç–∏ –º–∏—Ç—Ç—î–≤–æ, –∞:

* **–∑–∞–ø–∏—Å–∞—Ç–∏ –ª–æ–≥ —á–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ stderr**
* **–∑–∞–∫—Ä–∏—Ç–∏ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–∏**, –ø–æ—á–∏—Å—Ç–∏—Ç–∏ —Ç–∏–º—á–∞—Å–æ–≤—ñ —Ñ–∞–π–ª–∏
* **–ø–æ–≤—ñ–¥–æ–º–∏—Ç–∏ —Å–µ—Ä–≤–µ—Ä –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É –∞–±–æ –Ω–∞–¥—ñ—Å–ª–∞—Ç–∏ –º–µ—Ç—Ä–∏–∫–∏**
* **–∑–∞–≤–µ—Ä—à–∏—Ç–∏ –ø—Ä–æ—Ü–µ—Å –∫–æ–Ω—Ç—Ä–æ–ª—å–æ–≤–∞–Ω–æ**, –±–µ–∑ core dump

–î–ª—è —Ü—å–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å `sigaction()` —ñ–∑ –ø—Ä–æ—Å—Ç–∏–º –æ–±—Ä–æ–±–Ω–∏–∫–æ–º (`sa_handler`), —è–∫–∏–π –≤–∏–∫–æ–Ω—É—î –±–∞–∑–æ–≤—ñ –¥—ñ—ó —ñ –≤–∏–∫–ª–∏–∫–∞—î `_exit()`.

> ‚ö†Ô∏è –£ —Å–∏–≥–Ω–∞–ª-–æ–±—Ä–æ–±–Ω–∏–∫—É –¥–æ–∑–≤–æ–ª–µ–Ω–æ –ª–∏—à–µ **async-signal-safe** —Ñ—É–Ω–∫—Ü—ñ—ó (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `write()`, `_exit()`). –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `malloc()`, `printf()`, `exit()` ‚Äî **–Ω–µ–±–µ–∑–ø–µ—á–Ω–æ!**

---

## ‚úÖ 11. Trapping and Extracting Information from a Crash

### üß† –¢–µ–æ—Ä—ñ—è

–î–ª—è —Å–∫–ª–∞–¥–Ω—ñ—à–æ–≥–æ –∞–Ω–∞–ª—ñ–∑—É –≤–∞—Ä—Ç–æ –æ—Ç—Ä–∏–º–∞—Ç–∏ **–¥–æ–¥–∞—Ç–∫–æ–≤—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —Å–∏–≥–Ω–∞–ª** ‚Äî –Ω–∞–ø—Ä–∏–∫–ª–∞–¥:

* **–ê–¥—Ä–µ—Å–∞, –¥–µ —Å—Ç–∞–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞** (`si_addr`)
* **–ö–æ–¥ –ø—Ä–∏—á–∏–Ω–∏** (`si_code`) ‚Äî –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `SEGV_MAPERR` (–Ω–µ–≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞) –∞–±–æ `SEGV_ACCERR` (–ø–æ—Ä—É—à–µ–Ω–Ω—è –¥–æ—Å—Ç—É–ø—É)
* **–†–µ–≥—ñ—Å—Ç—Ä–∏, —Å—Ç–µ–∫** (—á–µ—Ä–µ–∑ `ucontext_t`)

–¶–µ –º–æ–∂–ª–∏–≤–æ –ª–∏—à–µ —á–µ—Ä–µ–∑ `sigaction()` –∑ –ø—Ä–∞–ø–æ—Ä–æ–º `SA_SIGINFO` —Ç–∞ –≤–∫–∞–∑–∞–Ω–Ω—è–º `sa_sigaction` –∑–∞–º—ñ—Å—Ç—å `sa_handler`.


---

## üîé –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –ø—ñ–¥—Ö–æ–¥—ñ–≤:

| –ü—ñ–¥—Ö—ñ–¥                   | –ü—Ä–æ—Å—Ç–∏–π (`sa_handler`)     | –†–æ–∑—à–∏—Ä–µ–Ω–∏–π (`sa_sigaction`)  |
| ------------------------ | -------------------------- | ---------------------------- |
| –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è             | –õ–µ–≥–∫–∞ –æ—á–∏—Å—Ç–∫–∞, –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è  | –î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞, –ª–æ–≥—É–≤–∞–Ω–Ω—è –∫—Ä–∞—à—É |
| –î–æ—Å—Ç—É–ø –¥–æ –∞–¥—Ä–µ—Å–∏ –ø–æ–º–∏–ª–∫–∏ | ‚ùå                          | ‚úÖ                            |
| –ë–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å              | ‚úÖ (—è–∫—â–æ —Ç—ñ–ª—å–∫–∏ async-safe) | ‚ö†Ô∏è –ü–æ—Ç—Ä—ñ–±–Ω–æ –æ–±–µ—Ä–µ–∂–Ω–æ         |
| –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ backtrace      | ‚ùå                          | ‚úÖ (—á–µ—Ä–µ–∑ `ucontext`)         |

---

–Ø–∫—â–æ —Ö–æ—á–µ—à ‚Äî –º–æ–∂—É –¥–æ–¥–∞—Ç–∏ –ø—Ä–∏–∫–ª–∞–¥ –∑ `backtrace()`, –¥–∞–º–ø —Ä–µ–≥—ñ—Å—Ç—Ä—ñ–≤ –∑ `ucontext_t`, –∞–±–æ –Ω–∞–≤—ñ—Ç—å –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—ñ—Å–ª—è –∫—Ä–∞—à—É —á–µ—Ä–µ–∑ `sigsetjmp`/`siglongjmp`.

---

–û—Å—å –¥–≤–∞ –∑–∞–≤–¥–∞–Ω–Ω—è ‚Äî **12 —Ç–∞ 13**, –∑ —á—ñ—Ç–∫–æ –ø–æ–¥—ñ–ª–µ–Ω–æ—é —Ç–µ–æ—Ä—ñ—î—é —Ç–∞ –∫–æ–¥–∞–º–∏:

---

## ‚úÖ 12. Register Dumping (–ó–Ω—è—Ç—Ç—è –¥–∞–º–ø—É —Ä–µ–≥—ñ—Å—Ç—Ä—ñ–≤ –ø—ñ—Å–ª—è –∫—Ä–∞—Ö—É)

### üß† –¢–µ–æ—Ä—ñ—è

–ü—Ä–∏ –æ–±—Ä–æ–±—Ü—ñ —Ñ–∞—Ç–∞–ª—å–Ω–æ–≥–æ —Å–∏–≥–Ω–∞–ª—É (–Ω–∞–ø—Ä., `SIGSEGV`) –º–æ–∂–Ω–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ **–≤–º—ñ—Å—Ç—É —Ä–µ–≥—ñ—Å—Ç—Ä—ñ–≤ CPU** –Ω–∞ –º–æ–º–µ–Ω—Ç –∞–≤–∞—Ä—ñ—ó. –¶–µ –æ—Å–æ–±–ª–∏–≤–æ –∫–æ—Ä–∏—Å–Ω–æ –¥–ª—è:

* –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è –Ω–∏–∑—å–∫–æ—Ä—ñ–≤–Ω–µ–≤–∏—Ö –ø–æ–º–∏–ª–æ–∫;
* —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤–ª–∞—Å–Ω–æ–≥–æ –º–µ—Ö–∞–Ω—ñ–∑–º—É –º—ñ–Ω—ñ-dump'—É;
* —Ä–æ–∑—É–º—ñ–Ω–Ω—è, –¥–µ —Å–∞–º–µ —Å—Ç–∞–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∞–¥—Ä–µ—Å–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –≤ `RIP` –∞–±–æ `EIP`).

–¶–µ –º–æ–∂–ª–∏–≤–æ —á–µ—Ä–µ–∑ —Ç—Ä–µ—Ç—ñ–π –ø–∞—Ä–∞–º–µ—Ç—Ä –æ–±—Ä–æ–±–Ω–∏–∫–∞ —Å–∏–≥–Ω–∞–ª—É (`ucontext_t *context`), —è–∫–∏–π –ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è –ø—Ä–∏ `SA_SIGINFO`.

> ‚ö†Ô∏è –§–æ—Ä–º–∞—Ç `ucontext_t` —ñ –º–∞–∫—Ä–æ—Å–∏ –¥–æ—Å—Ç—É–ø—É –¥–æ —Ä–µ–≥—ñ—Å—Ç—Ä—ñ–≤ –∑–∞–ª–µ–∂–∞—Ç—å –≤—ñ–¥ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏: x86\_64, x86, ARM —Ç–æ—â–æ.
	
---

## ‚úÖ 13. Sleeping Correctly (–ü—Ä–∞–≤–∏–ª—å–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è —Å–Ω—É –∑ –æ–±—Ä–æ–±–∫–æ—é —Å–∏–≥–Ω–∞–ª—ñ–≤)

### üß† –¢–µ–æ—Ä—ñ—è

–§—É–Ω–∫—Ü—ñ—ó —Å–Ω—É (`sleep()`, `usleep()`, `nanosleep()`) –º–æ–∂—É—Ç—å –±—É—Ç–∏ **–ø–µ—Ä–µ—Ä–≤–∞–Ω—ñ —Å–∏–≥–Ω–∞–ª–∞–º–∏** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `SIGCHLD`, `SIGALRM`).

–†–µ–∑—É–ª—å—Ç–∞—Ç:

* —á–∞—Å –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è –º–æ–∂–µ –±—É—Ç–∏ –∫–æ—Ä–æ—Ç—à–∏–º, –Ω—ñ–∂ –ø–æ—Ç—Ä—ñ–±–Ω–æ;
* `nanosleep()` –ø–æ–≤–µ—Ä—Ç–∞—î `-1`, –∞ `errno == EINTR`.

**–†—ñ—à–µ–Ω–Ω—è**:

1. **–ü–æ–≤—Ç–æ—Ä–Ω–æ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ `nanosleep()` –∑ –æ–Ω–æ–≤–ª–µ–Ω–∏–º –∑–∞–ª–∏—à–∫–æ–º** —á–∞—Å—É:

   * `nanosleep(&req, &rem)` ‚Äî `rem` –º—ñ—Å—Ç–∏—Ç—å –∑–∞–ª–∏—à–æ–∫ —á–∞—Å—É –ø—ñ—Å–ª—è –ø–µ—Ä–µ—Ä–∏–≤–∞–Ω–Ω—è.
2. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞** ‚Äî `sigsuspend()` –∞–±–æ `clock_nanosleep(CLOCK_MONOTONIC, 0, &ts, NULL)` –¥–ª—è –±—ñ–ª—å—à–æ—ó —Ç–æ—á–Ω–æ—Å—Ç—ñ.


## üß† –ü—ñ–¥—Å—É–º–æ–∫:

| –ó–∞–≤–¥–∞–Ω–Ω—è     | 12. Register Dumping                     | 13. Sleeping Correctly                          |
| ------------ | ---------------------------------------- | ----------------------------------------------- |
| –ü—Ä–æ–±–ª–µ–º–∞     | –Ø–∫ –¥—ñ–∑–Ω–∞—Ç–∏—Å—å, —â–æ —Å–∞–º–µ ‚Äú–≤–ø–∞–ª–æ‚Äù –≤ –ø—Ä–æ—Ü–µ—Å—ñ  | –Ø–∫ –Ω–µ –≤—Ç—Ä–∞—Ç–∏—Ç–∏ —á–∞—Å –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è –ø—Ä–∏ —Å–∏–≥–Ω–∞–ª—ñ       |
| –†—ñ—à–µ–Ω–Ω—è      | –ê–Ω–∞–ª—ñ–∑ `ucontext_t` –≤ –æ–±—Ä–æ–±–Ω–∏–∫—É —Å–∏–≥–Ω–∞–ª—É  | –ü–æ–≤—Ç–æ—Ä–Ω–µ –≤–∏–∫–ª–∏–∫–∞–Ω–Ω—è `nanosleep()`               |
| –ê–∫—Ç—É–∞–ª—å–Ω—ñ—Å—Ç—å | –ù–∏–∑—å–∫–æ—Ä—ñ–≤–Ω–µ–≤–µ –¥–µ–±–∞–≥—É–≤–∞–Ω–Ω—è, –∞–Ω–∞–ª—ñ–∑ –∫—Ä–∞—à—ñ–≤ | –ü—Ä–∞–≤–∏–ª—å–Ω–µ –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è —É —Å–∏–≥–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω–∏—Ö –ø—Ä–æ–≥—Ä–∞–º–∞—Ö |

–ú–æ–∂—É –¥–æ–ø–æ–≤–Ω–∏—Ç–∏ —Ü—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—î—é –∑ –ª–æ–≥–µ—Ä–æ–º, –∞–±–æ —Ä–æ–∑—à–∏—Ä–µ–Ω–∏–º –¥–∞–º–ø–æ–º —Ä–µ–≥—ñ—Å—Ç—Ä—ñ–≤ —ñ —Å—Ç–µ–∫—É.

---

–û—Å—å –∑–∞–≤–¥–∞–Ω–Ω—è **14** —ñ **15** –∑ —Ç–µ–æ—Ä–µ—Ç–∏—á–Ω–æ—é —á–∞—Å—Ç–∏–Ω–æ—é —Ç–∞ –ø—Ä–∏–∫–ª–∞–¥–∞–º–∏ –∫–æ–¥—É:

---

## ‚úÖ 14. Real-Time Signals (–†–µ–∞–ª—å–Ω–æ–≤—á–∞—Å–Ω—ñ —Å–∏–≥–Ω–∞–ª–∏)

### üß† –¢–µ–æ—Ä—ñ—è

**Real-Time —Å–∏–≥–Ω–∞–ª–∏** ‚Äî —Ü–µ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è –∫–ª–∞—Å–∏—á–Ω–æ—ó —Å–∏–≥–Ω–∞–ª—ñ–∑–∞—Ü—ñ—ó –≤ POSIX, —â–æ –º–∞—é—Ç—å –Ω–∏–∑–∫—É –≤–∞–∂–ª–∏–≤–∏—Ö –ø–µ—Ä–µ–≤–∞–≥:

* **–ë—É—Ñ–µ—Ä–∏–∑–∞—Ü—ñ—è**: —Å–∏–≥–Ω–∞–ª–∏ *–Ω–µ –≥—É–±–ª—è—Ç—å—Å—è*, —è–∫—â–æ –∫—ñ–ª—å–∫–∞ –æ–¥–Ω–∞–∫–æ–≤–∏—Ö —Å–∏–≥–Ω–∞–ª—ñ–≤ –Ω–∞–¥—ñ—Å–ª–∞–Ω–æ –ø—ñ–¥—Ä—è–¥.
* **–ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–∏—Ö**: —á–µ—Ä–µ–∑ `sigqueue()` –º–æ–∂–Ω–∞ –ø–µ—Ä–µ–¥–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è —Ç–∏–ø—É `union sigval`.
* **–ü—Ä—ñ–æ—Ä–∏—Ç–µ–∑–∞—Ü—ñ—è**: RT-—Å–∏–≥–Ω–∞–ª–∏ –º–∞—é—Ç—å –Ω–æ–º–µ—Ä–∏ –≤—ñ–¥ `SIGRTMIN` –¥–æ `SIGRTMAX` —ñ –¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—å—Å—è –≤ –ø–æ—Ä—è–¥–∫—É –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—è (–Ω–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ –∑–≤–∏—á–∞–π–Ω–∏—Ö).

> ‚ö†Ô∏è –ö—ñ–ª—å–∫—ñ—Å—Ç—å –¥–æ—Å—Ç—É–ø–Ω–∏—Ö RT-—Å–∏–≥–Ω–∞–ª—ñ–≤ —ñ –≥–ª–∏–±–∏–Ω–∞ —á–µ—Ä–≥–∏ ‚Äî –∑–∞–ª–µ–∂–∞—Ç—å –≤—ñ–¥ —Å–∏—Å—Ç–µ–º–∏ (`/proc/sys/kernel/rtsig-max`, `ulimit -r`).

---

## ‚úÖ 15. Sending Signals (–ù–∞–¥—Å–∏–ª–∞–Ω–Ω—è —Å–∏–≥–Ω–∞–ª—ñ–≤)

### üß† –¢–µ–æ—Ä—ñ—è

–°–∏–≥–Ω–∞–ª–∏ –º–æ–∂–Ω–∞ –Ω–∞–¥—Å–∏–ª–∞—Ç–∏ **–∑ –∫–æ–¥—É** –∞–±–æ **—á–µ—Ä–µ–∑ shell**:

* **Shell**:

  * `kill -SIGTERM <pid>`
  * `kill -SIGUSR1 <pid>`
* **C API**:

  * `kill(pid, signal)` ‚Äî –∫–ª–∞—Å–∏—á–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—è —Å–∏–≥–Ω–∞–ª—É.
  * `sigqueue(pid, signal, val)` ‚Äî –¥–æ–∑–≤–æ–ª—è—î –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–∞–Ω—ñ (`val`).

> ‚ö†Ô∏è –ü–∞–º'—è—Ç–∞–π—Ç–µ: —â–æ–± –Ω–∞–¥—ñ—Å–ª–∞—Ç–∏ —Å–∏–≥–Ω–∞–ª —ñ–Ω—à–æ–º—É –ø—Ä–æ—Ü–µ—Å—É, –ø–æ—Ç—Ä—ñ–±–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ **–ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É** (–∑–≤–∏—á–∞–π–Ω–æ ‚Äî –æ–¥–∏–Ω UID).

---


## üß† –ü—ñ–¥—Å—É–º–æ–∫

| –ó–∞–≤–¥–∞–Ω–Ω—è     | 14. Real-Time Signals                      | 15. Sending Signals                          |
| ------------ | ------------------------------------------ | -------------------------------------------- |
| –ö–ª—é—á–æ–≤–∞ —ñ–¥–µ—è | –ù–∞–¥—Å–∏–ª–∞–Ω–Ω—è —Å–∏–≥–Ω–∞–ª—ñ–≤ –∑ –¥–∞–Ω–∏–º–∏, —á–µ—Ä–≥–æ–≤—ñ—Å—Ç—å   | –Ø–∫ –ø—Ä–æ–≥—Ä–∞–º–Ω–æ (–∞–±–æ –∑ shell) –Ω–∞–¥—Å–∏–ª–∞—Ç–∏ —Å–∏–≥–Ω–∞–ª–∏ |
| API          | `sigqueue()`, `sigaction()`                | `kill()`, `sigqueue()`                       |
| –ü—Ä–æ–±–ª–µ–º–∏     | –°–∏—Å—Ç–µ–º–Ω—ñ –æ–±–º–µ–∂–µ–Ω–Ω—è –Ω–∞ —á–µ—Ä–≥–∏, delivery time | –ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –ø—Ä–∞–≤, PID –Ω–µ—ñ—Å–Ω—É—î                |

–ú–æ–∂—É —Ç–∞–∫–æ–∂ –∑—Ä–æ–±–∏—Ç–∏ –ø—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è RT-—Å–∏–≥–Ω–∞–ª—ñ–≤ –∑ `sigtimedwait()` –∞–±–æ `signalfd()` –¥–ª—è event-based –ø—ñ–¥—Ö–æ–¥—É.


---

–û–∫–µ–π, –Ü–ª–ª—è, —Ä–æ–∑–±–∏–≤–∞—î–º–æ –Ω–∞ –¥–≤–∞ —á–∏—Å—Ç—ñ, –∞–ª–µ –ø–æ–≤‚Äô—è–∑–∞–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ ‚Äî —É —Ñ–æ—Ä–º–∞—Ç—ñ publisher-subscriber –∑ RT-—Å–∏–≥–Ω–∞–ª–∞–º–∏. –ü–ª—é—Å –¥–æ–ø–æ–≤–Ω—é—î–º–æ —Ç–µ–æ—Ä—ñ—î—é –ø–æ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∏–º —Å–ø–æ—Å–æ–±–∞–º –æ–±—Ä–æ–±–∫–∏ —Å–∏–≥–Ω–∞–ª—ñ–≤.

---

# 16. A Small Publisher-Subscriber Type of Application


### –¢–µ–æ—Ä—ñ—è

* **RT-—Å–∏–≥–Ω–∞–ª–∏** (`SIGRTMIN`‚Äì`SIGRTMAX`) –ø—ñ–¥—Ç—Ä–∏–º—É—é—Ç—å —á–µ—Ä–≥–æ–≤—ñ—Å—Ç—å —ñ –Ω–µ –≤—Ç—Ä–∞—á–∞—é—Ç—å—Å—è –ø—Ä–∏ –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—ñ.
* `sigqueue()` –¥–æ–∑–≤–æ–ª—è—î –ø–µ—Ä–µ–¥–∞—Ç–∏ —Å–∏–≥–Ω–∞–ª —Ä–∞–∑–æ–º —ñ–∑ –¥–æ–¥–∞—Ç–∫–æ–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏ (`union sigval`).
* –û–±—Ä–æ–±–Ω–∏–∫ —ñ–∑ `SA_SIGINFO` –æ—Ç—Ä–∏–º—É—î —Ü—ñ –¥–∞–Ω—ñ —É `siginfo_t->si_value`.
* Publisher –Ω–∞–¥—Å–∏–ª–∞—î —Å–∏–≥–Ω–∞–ª –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –ø—Ä–æ—Ü–µ—Å—É –∑–∞ PID.
* Subscriber –æ—á—ñ–∫—É—î —Å–∏–≥–Ω–∞–ª —ñ –æ–±—Ä–æ–±–ª—è—î –π–æ–≥–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ.

---

# 17. Alternative Signal-Handling Techniques

### –ß–æ–º—É —ñ–Ω–æ–¥—ñ –∑–∞–º—ñ—Å—Ç—å `signal()`/`sigaction()`?

* –°–∏–≥–Ω–∞–ª–∏ ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ñ, –∑ –æ–±–º–µ–∂–µ–Ω–Ω—è–º–∏ reentrancy.
* –°–∫–ª–∞–¥–Ω–æ –∫–æ–º–±—ñ–Ω—É–≤–∞—Ç–∏ —ñ–∑ —Å—É—á–∞—Å–Ω–∏–º–∏ event-loop (epoll/kqueue).
* –í–∏—Å–æ–∫–∞ –π–º–æ–≤—ñ—Ä–Ω—ñ—Å—Ç—å –≤—Ç—Ä–∞—Ç–∏ —Å–∏–≥–Ω–∞–ª—ñ–≤ –ø—Ä–∏ –≤–µ–ª–∏–∫–∏—Ö –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è—Ö.

---

### –û—Å–Ω–æ–≤–Ω—ñ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏

| –ú–µ—Ç–æ–¥                       | –û–ø–∏—Å                                              | –ü–ª—é—Å–∏                                 | –ú—ñ–Ω—É—Å–∏                         |
| --------------------------- | ------------------------------------------------- | ------------------------------------- | ------------------------------ |
| **signalfd()**              | Linux-—Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∏–π, —Å–∏–≥–Ω–∞–ª –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î—Ç—å—Å—è —É fd     | –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ epoll, –º–æ–∂–Ω–∞ select/poll | –ü–æ—Ä—Ç–∞—Ç–∏–≤–Ω—ñ—Å—Ç—å –æ–±–º–µ–∂–µ–Ω–∞ Linux   |
| **eventfd() + epoll()**     | –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ñ–≤ –ø–æ–¥—ñ–π, —â–æ –º–æ–∂–Ω–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏—Ç–∏ | –í—ñ–¥–º—ñ–Ω–Ω–æ –¥–ª—è event-loop               | –ù–µ —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –¥–ª—è —Å–∏–≥–Ω–∞–ª—ñ–≤ |
| **Threads + sigwaitinfo()** | –°–∏–Ω—Ö—Ä–æ–Ω–Ω–µ –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è —Å–∏–≥–Ω–∞–ª—ñ–≤ —É –ø–æ—Ç–æ—Ü—ñ            | –ë–µ–∑–ø–µ—á–Ω–∏–π, –±–ª–æ–∫—É—é—á–∏–π, –±–µ–∑ async       | –î–æ–¥–∞—Ç–∫–æ–≤–∏–π –ø–æ—Ç—ñ–∫, —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å   |

---

### –ö–æ—Ä–æ—Ç–∫–∞ —ñ–¥–µ—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `signalfd()` (–ø—Ä–∏–∫–ª–∞–¥ –±–µ–∑ –∫–æ–¥—É)

* –°—Ç–≤–æ—Ä—é—î–º–æ fd –¥–ª—è –ø–æ—Ç—Ä—ñ–±–Ω–∏—Ö —Å–∏–≥–Ω–∞–ª—ñ–≤ (`signalfd`).
* –ú–æ–Ω—ñ—Ç–æ—Ä–∏–º–æ —Ü–µ–π fd —á–µ—Ä–µ–∑ `epoll` –∞–±–æ `poll`.
* –ü—Ä–∏ –Ω–∞—Å—Ç–∞–Ω–Ω—ñ —Å–∏–≥–Ω–∞–ª—É —á–∏—Ç–∞—î–º–æ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é, —è–∫ –∑ —Ñ–∞–π–ª—É ‚Äî —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, –±–µ–∑ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ —ñ–Ω—Ç–µ—Ä—Ä–∞–ø—Ç—É.

---

–û—Å—å —Ä–æ–∑–±–∏—Ç—Ç—è –Ω–∞ –¥–≤–∞ –∑–∞–≤–¥–∞–Ω–Ω—è –∑ —Ç–µ–æ—Ä—ñ—î—é, –ø–ª—é—Å –ø–æ–≤–Ω–∏–π –∫–æ–¥ —ñ –ø–æ—è—Å–Ω–µ–Ω–Ω—è.

---

## 18. The sigwaitinfo and the sigtimedwait System Calls

### –¢–µ–æ—Ä—ñ—è

`s`igwaitinfo —ñ `sigtimedwait` ‚Äî —Ü–µ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ñ —Å–∏—Å—Ç–µ–º–Ω—ñ –≤–∏–∫–ª–∏–∫–∏, —â–æ –¥–æ–∑–≤–æ–ª—è—é—Ç—å –ø—Ä–æ—Ü–µ—Å—É —á–µ–∫–∞—Ç–∏ –Ω–∞ —Å–∏–≥–Ω–∞–ª, –±–ª–æ–∫—É—é—á–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è, –∞ –Ω–µ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –π–æ–≥–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —á–µ—Ä–µ–∑ –æ–±—Ä–æ–±–Ω–∏–∫–∏.

* **–ü–µ—Ä–µ–≤–∞–≥–∏:**

  * –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏—Ö callback-—ñ–≤ ‚Äî –ø—Ä–æ—Å—Ç—ñ—à–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ —Ä–µ—Å—É—Ä—Å–∞–º–∏, –±–æ –Ω–µ —Ç—Ä–µ–±–∞ —Ç—É—Ä–±—É–≤–∞—Ç–∏—Å—è –ø—Ä–æ reentrancy.
  * –û—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–µ—Ç–∞–ª—å–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ —Å–∏–≥–Ω–∞–ª —á–µ—Ä–µ–∑ `siginfo_t`.
  * `sigtimedwait` –¥–æ–∑–≤–æ–ª—è—î –∑–∞–¥–∞—Ç–∏ —Ç–∞–π–º–∞—É—Ç –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è.
* –ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è:

  * –°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞ –æ–±—Ä–æ–±–∫–∞ —Å–∏–≥–Ω–∞–ª—ñ–≤ —É –ø–æ—Ç–æ–∫–∞—Ö.
  * –õ–æ–≥—ñ–∫–∞, –¥–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ ¬´–≤–∏—Ç—è–≥–Ω—É—Ç–∏¬ª —Å–∏–≥–Ω–∞–ª —É –≤–∏–∑–Ω–∞—á–µ–Ω–∏–π –º–æ–º–µ–Ω—Ç.

---

## 10. Source Code (–ó–±—ñ—Ä–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤)

### subscriber.c (–ø—ñ–¥–ø–∏—Å–Ω–∏–∫)

### publisher.c (–≤–∏–¥–∞–≤–µ—Ü—å)

```c
#include <signal.h>
#include <stdlib.h>
#include <unistd.h>

int main(int argc, char *argv[]) {
    if (argc < 2) return 1;

    pid_t pid = atoi(argv[1]);
    union sigval val;
    val.sival_int = 99;

    if (sigqueue(pid, SIGRTMIN, val) == -1) {
        perror("sigqueue");
        return 1;
    }
}
```

---

### –ö–æ–º–ø—ñ–ª—è—Ü—ñ—è

```bash
gcc subscriber.c -o subscriber
gcc publisher.c -o publisher
```

---

### –ö–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å:

* `subscriber` –ø—ñ–¥–ø–∏—Å—É—î—Ç—å—Å—è –Ω–∞ RT-—Å–∏–≥–Ω–∞–ª–∏ `SIGRTMIN` —Ç–∞ –≤–∏–≤–æ–¥–∏—Ç—å –æ—Ç—Ä–∏–º–∞–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è.
* `publisher` –Ω–∞–¥—Å–∏–ª–∞—î RT-—Å–∏–≥–Ω–∞–ª —ñ–∑ payload —É –≤–∏–≥–ª—è–¥—ñ —Ü—ñ–ª–æ–≥–æ —á–∏—Å–ª–∞.
* –¶–µ–π –∫–æ–¥ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –ø—Ä–æ—Å—Ç—É –º–æ–¥–µ–ª—å –ø–∞–±–ª—ñ—à–µ—Ä-—Å–∞–±—Å–∫—Ä–∞–π–±–µ—Ä —á–µ—Ä–µ–∑ —Å–∏–≥–Ω–∞–ª–∏ Linux.

---

–Ø–∫—â–æ —Ö–æ—á–µ—à, –º–æ–∂—É –¥–æ–ø–æ–º–æ–≥—Ç–∏ –∑ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—î—é —Ü–∏—Ö –ø—Ä–∏–∫–ª–∞–¥—ñ–≤ —É –æ–¥–∏–Ω README –∞–±–æ –∑—Ä–æ–±–∏—Ç–∏ –∫—Ä–∞—â—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç—É.


---

## –ó–∞–≤–¥–∞–Ω–Ω—è 14last

### –û–ø–∏—Å

–í–∞—Ä—ñ–∞–Ω—Ç 14
–ù–∞–ø–∏—à—ñ—Ç—å –ø—Ä–æ–≥—Ä–∞–º—É, —è–∫–∞ —Å—Ç–≤–æ—Ä—é—î —Ç–∞–π–º–µ—Ä (timer_create) —ñ –Ω–∞–¥—Å–∏–ª–∞—î —Ä–µ–∞–ª—å–Ω—ñ —Å–∏–≥–Ω–∞–ª–∏ SIGRTMIN –∑ –¥—É–∂–µ –º–∞–ª–æ—é —ñ–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω–æ—é –∑–∞—Ç—Ä–∏–º–∫–æ—é. –ü—Ä–æ–≥—Ä–∞–º–∞ –ø–æ–≤–∏–Ω–Ω–∞ –ø—ñ–¥—Ä–∞—Ö—É–≤–∞—Ç–∏, —Å–∫—ñ–ª—å–∫–∏ —Å–∏–≥–Ω–∞–ª—ñ–≤ —Ä–µ–∞–ª—å–Ω–æ –æ–±—Ä–æ–±–ª–µ–Ω–æ, –∞ —Å–∫—ñ–ª—å–∫–∏ –∑–∞–≥—É–±–ª–µ–Ω–æ –∑–∞ –ø–µ–≤–Ω–∏–π —á–∞—Å —Ä–æ–±–æ—Ç–∏.

### –Ø–∫ –ø—Ä–∞—Ü—é—î

–í—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è –æ–±—Ä–æ–±–Ω–∏–∫ —Å–∏–≥–Ω–∞–ª—É SIGRTMIN —á–µ—Ä–µ–∑ sigaction –∑ SA_SIGINFO. –°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è —Ç–∞–π–º–µ—Ä —á–µ—Ä–µ–∑ timer_create, —è–∫–∏–π –Ω–∞–¥—Å–∏–ª–∞—î —Å–∏–≥–Ω–∞–ª SIGRTMIN –∫–æ–∂–Ω—É –º—ñ–ª—ñ—Å–µ–∫—É–Ω–¥—É. –£ –æ–±—Ä–æ–±–Ω–∏–∫—É —Å–∏–≥–Ω–∞–ª—É –≤–µ–¥–µ—Ç—å—Å—è –ø—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫ –æ—Ç—Ä–∏–º–∞–Ω–∏—Ö —Å–∏–≥–Ω–∞–ª—ñ–≤. –ü—ñ—Å–ª—è –∑–∞–∫—ñ–Ω—á–µ–Ω–Ω—è —á–∞—Å—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 1 —Å–µ–∫—É–Ω–¥–∞) —Ç–∞–π–º–µ—Ä –≤–∏–¥–∞–ª—è—î—Ç—å—Å—è, —ñ –ø—Ä–æ–≥—Ä–∞–º–∞ –≤–∏–≤–æ–¥–∏—Ç—å –∫—ñ–ª—å–∫—ñ—Å—Ç—å –æ—Ç—Ä–∏–º–∞–Ω–∏—Ö —Å–∏–≥–Ω–∞–ª—ñ–≤ —Ç–∞ –ø—Ä–∏–±–ª–∏–∑–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–≥—É–±–ª–µ–Ω–∏—Ö (MAX_SIGNALS - –æ—Ç—Ä–∏–º–∞–Ω–æ). –¶–µ –¥–æ–∑–≤–æ–ª—è—î –æ—Ü—ñ–Ω–∏—Ç–∏, —Å–∫—ñ–ª—å–∫–∏ —Å–∏–≥–Ω–∞–ª—ñ–≤ –º–æ–∂–µ –±—É—Ç–∏ –≤—Ç—Ä–∞—á–µ–Ω–æ –ø—Ä–∏ –≤–µ–ª–∏–∫—ñ–π —á–∞—Å—Ç–æ—Ç—ñ –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—è.

### [–ö–æ–¥ –¥–æ –∑–∞–≤–¥–∞–Ω–Ω—è](task14last/main.c)

![–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è](task14last/task1.png)

### –†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–æ–±–æ—Ç–∏

–í–∏–≤–æ–¥–∏—Ç—å—Å—è –∫—ñ–ª—å–∫—ñ—Å—Ç—å –æ—Ç—Ä–∏–º–∞–Ω–∏—Ö —Å–∏–≥–Ω–∞–ª—ñ–≤ —Ç–∞ –ø—Ä–∏–±–ª–∏–∑–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–≥—É–±–ª–µ–Ω–∏—Ö –∑–∞ —á–∞—Å —Ä–æ–±–æ—Ç–∏ —Ç–∞–π–º–µ—Ä–∞.
–°–∏–≥–Ω–∞–ª–∏ –≤—Ç—Ä–∞—á–∞—é—Ç—å—Å—è, –±–æ SIGEV_SIGNAL –Ω–∞–¥—Å–∏–ª–∞—î —Å–∏–≥–Ω–∞–ª–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, –∞ —è–¥—Ä–æ Linux –º–∞—î –æ–±–º–µ–∂–µ–Ω—É —á–µ—Ä–≥—É –¥–ª—è –Ω–∏—Ö - –æ–±—Ä–æ–±–Ω–∏–∫ –Ω–µ –≤—Å—Ç–∏–≥–∞—î —Ä–µ–∞–≥—É–≤–∞—Ç–∏, –Ω–æ–≤—ñ —Å–∏–≥–Ω–∞–ª–∏ –∑–∞–º—ñ–Ω—é—é—Ç—å —Å—Ç–∞—Ä—ñ –∞–±–æ —ñ–≥–Ω–æ—Ä—É—é—Ç—å—Å—è, —Ç–æ–º—É –∑–Ω–∞—á–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞ –ø–æ–¥—ñ–π (999/1000) –ø—Ä–æ—Å—Ç–æ –≥—É–±–∏—Ç—å—Å—è.
